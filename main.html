<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <div>
        accelerationZ:
        <span id="accelerationZ"></span>
    </div>
    <script>
        window.onLean = amount => {
            // Only look for amounts > 0, as these meant a lean forward
            if (amount > 0) {
                // TODO: Max amount leaning forward is 20, yet only ~10-12 is reached by normal leaning forward
                // Hence color schemes could be 0-6 green, 7-10 yellow, 11-12 red
            }
        };

        window.ondevicemotion = event => {
            let accelerationIGZ = Math.floor(event.accelerationIncludingGravity.z);
            let accZ = Math.abs(accelerationIGZ);

            if (event.accelerationIncludingGravity.z > 0) {
                accZ *= -1;
            }

            if (window.onLean) {
                window.onLean(accZ);
            }
        };
    </script>
</body>

</html>